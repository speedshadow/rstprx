<div class="space-y-6">
    <div class="flex items-center justify-between">
        <h2 class="text-3xl font-bold">Domain Management</h2>
        <button onclick="document.getElementById('add-domain-modal').classList.remove('hidden')"
                class="px-4 py-2 bg-cyber-500 hover:bg-cyber-600 text-white rounded-lg flex items-center space-x-2 transition-colors">
            <i data-lucide="plus" class="w-4 h-4"></i>
            <span>Add Domain</span>
        </button>
    </div>
    
    <div class="bg-gray-800 rounded-xl border border-gray-700 overflow-hidden">
        <table class="w-full">
            <thead class="bg-gray-900 border-b border-gray-700">
                <tr>
                    <th class="text-left py-4 px-6 text-sm font-semibold text-gray-400">Subdomain</th>
                    <th class="text-left py-4 px-6 text-sm font-semibold text-gray-400">Target URL</th>
                    <th class="text-left py-4 px-6 text-sm font-semibold text-gray-400">Status</th>
                    <th class="text-right py-4 px-6 text-sm font-semibold text-gray-400">Actions</th>
                </tr>
            </thead>
            <tbody id="domain-list"
                   hx-get="/api/domains/html"
                   hx-trigger="load"
                   hx-swap="innerHTML"
                   hx-indicator="#loading-spinner">
                <tr id="loading-spinner">
                    <td colspan="4" class="py-12 text-center">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-cyber-400 mx-auto"></div>
                        <p class="text-gray-500 mt-2">Loading domains...</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Add Domain Modal -->
<div id="add-domain-modal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center">
    <div class="bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-md w-full mx-4">
        <div class="flex items-center justify-between mb-6">
            <h3 class="text-xl font-bold">Add New Domain</h3>
            <button onclick="document.getElementById('add-domain-modal').classList.add('hidden')" 
                    class="text-gray-400 hover:text-gray-300">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
        </div>
        <form hx-post="/api/domains"
              hx-on::after-request="if(event.detail.successful) { document.getElementById('add-domain-modal').classList.add('hidden'); htmx.ajax('GET', '/api/domains/html', {target: '#domain-list', swap: 'innerHTML'}); this.reset(); }"
              class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-400 mb-2">Subdomain</label>
                <input type="text" name="subdomain" placeholder="iptv.myproxy.com" required
                       class="w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:ring-2 focus:ring-cyber-400 focus:border-transparent outline-none"/>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-400 mb-2">Target URL</label>
                <input type="url" name="target" placeholder="https://target-site.com" required
                       class="w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:ring-2 focus:ring-cyber-400 focus:border-transparent outline-none"/>
            </div>
            <div class="flex space-x-3 pt-4">
                <button type="submit"
                        class="flex-1 px-4 py-2 bg-cyber-500 hover:bg-cyber-600 text-white rounded-lg transition-colors">
                    Add Domain
                </button>
                <button type="button"
                        onclick="document.getElementById('add-domain-modal').classList.add('hidden')"
                        class="px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-lg transition-colors">
                    Cancel
                </button>
            </div>
        </form>
    </div>
</div>

<script>
lucide.createIcons();
</script>
